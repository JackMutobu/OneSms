@page "/ussdtransactions"
@inherits ReactiveComponentBase<UssdTransactionViewModel>
<PageHeader BackIcon="string.Empty">
    <PageHeaderTitle>USSD Transactions</PageHeaderTitle>
</PageHeader>
<Table DataSource="@ViewModel.Transactions" Class="table-responsive">
    <Column @bind-Field="@context.SimId"></Column>
    <Column @bind-Field="@context.UssdAction?.ActionType"></Column>
    <ActionColumn Title="Sim">@context.Sim?.Number</ActionColumn>
    <ActionColumn Title="Sim Name">@context.Sim?.Name</ActionColumn>
    <Column @bind-Field="@context.TransactionState"></Column>
    <Column @bind-Field="@context.TransactionId"></Column>
    <Column @bind-Field="@context.StartTime"></Column>
    <Column @bind-Field="@context.EndTime"></Column>
    <ActionColumn Title="Time">
        @((context.EndTime - context.StartTime).TotalSeconds) seconds
    </ActionColumn>
    <ActionColumn Title="Action">
        <Space Size="middle">
            <SpaceItem>
                <Button Type="danger" @onclick="() => Delete(context)">Delete</Button>
            </SpaceItem>
        </Space>
    </ActionColumn>
</Table>
